<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <base href="/0-vanilla-html/">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>[0] Vanilla HTML</title>
  <link rel="stylesheet" href="../common/base.css">

  <!-- ===== [1] ===== -->
  <style>
    .verse {
      font-family: monospace;
      margin: 0 0 1em 1em;
    }
  </style>
</head>
<body>
  <nav>
    <a href="../">HOME</a>
    <a href="../0-vanilla-html/">Vanilla HTML</a>
    <a href="../1-html-templates/">HTML Templates</a>
    <a href="../2-shadow-dom/">Shadow DOM</a>
    <a href="../3-autonomous-custom-element/">Autonomous Custom Element</a>
    <a href="../4-html-imports/">HTML Imports</a>
    <a href="../5-es-modules/">ES Modules</a>
  </nav>
  <main>
    <h1 class="pageTitle">Vanilla HTML, CSS, and JavaScript</h1>
    <p>
      <button id="restart" type="button">Restart</button> 
    </p>
    <!-- ===== [2] ===== -->
    <div id="song"></div>
  </main>
  
  <script>
    (function () {
      var song = document.getElementById('song');
      var btnRestart = document.getElementById('restart');

      /* ===== [3] ===== */
      var VERSE_LINES = [
        'This is the song that doesn\'t end',
        'Yes, it goes on and on my friend',
        'Some people started singing it, not knowing what it was',
        'And they\'ll continue singing it forever just because'
      ];

      /* ===== [4] ===== */
      function sing () {
        /* <div></div> */
        var newVerse = document.createElement('div');
        /* <div class="verse"></div> */
        newVerse.classList.add('verse');

        VERSE_LINES.forEach(function (_line) {
          /* <div></div> */
          var elLine = document.createElement('div');
          /* <div class="line"></div> */
          elLine.classList.add('line');
          /* <div class="line">...</div> */
          elLine.innerText = _line;

          newVerse.appendChild(elLine);
        });

        song.appendChild(newVerse);
      }

      // Start Singing
      sing();
      // Keep singing... forever
      window.setInterval(sing, 5000);

      // Wire up "Restart" behavior
      btnRestart.addEventListener('click', function () {
        song.innerHTML = '';
      });
    })();
  </script>

  <!--
    PROBLEM:
    
    HTML for each verse is generated using low level 
    DOM API functions. [3][4]

    While it works, it's not easy to grok.
  -->
</body>
</html>
